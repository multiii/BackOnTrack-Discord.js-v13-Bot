"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CoreListener = void 0;
const Listener_1 = require("../../lib/structures/Listener");
const Events_1 = require("../../lib/types/Events");
class CoreListener extends Listener_1.Listener {
    constructor(context) {
        super(context, { event: Events_1.Events.CommandRun });
        this.enabled = this.container.client.options.typing ?? false;
    }
    async run(message, command, payload) {
        if (!command.typing)
            return;
        try {
            await message.channel.sendTyping();
        }
        catch (error) {
            message.client.emit(Events_1.Events.CommandTypingError, error, { ...payload, command, message });
        }
    }
}
exports.CoreListener = CoreListener;
//# sourceMappingURL=CoreCommandTyping.js.map