"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolveGuildChannel = void 0;
const discord_utilities_1 = require("@sapphire/discord-utilities");
require("../errors/Identifiers");
const Result_1 = require("../parsers/Result");
function resolveGuildChannel(parameter, guild) {
    const channel = resolveById(parameter, guild) ?? resolveByQuery(parameter, guild);
    if (channel)
        return (0, Result_1.ok)(channel);
    return (0, Result_1.err)("guildChannelError" /* ArgumentGuildChannelError */);
}
exports.resolveGuildChannel = resolveGuildChannel;
function resolveById(argument, guild) {
    const channelId = discord_utilities_1.ChannelMentionRegex.exec(argument) ?? discord_utilities_1.SnowflakeRegex.exec(argument);
    return channelId ? guild.channels.cache.get(channelId[1]) ?? null : null;
}
function resolveByQuery(argument, guild) {
    const lowerCaseArgument = argument.toLowerCase();
    return guild.channels.cache.find((channel) => channel.name.toLowerCase() === lowerCaseArgument) ?? null;
}
//# sourceMappingURL=guildChannel.js.map